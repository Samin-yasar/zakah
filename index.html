<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Zakah Calculator ‚Äî Samin's Initiatives</title>

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json" />

<!-- Theme & status bar colours -->
<meta name="theme-color" content="#c9a84c" />
<meta name="msapplication-navbutton-color" content="#c9a84c" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<!-- iOS PWA -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="Zakah Calc" />
<link rel="apple-touch-icon" href="icons/icon-192x192.png" />
<link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152x152.png" />
<link rel="apple-touch-icon" sizes="144x144" href="icons/icon-144x144.png" />

<!-- Android / general -->
<meta name="mobile-web-app-capable" content="yes" />
<meta name="application-name" content="Zakah Calc" />
<link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192x192.png" />
<link rel="icon" type="image/png" sizes="32x32"   href="icons/icon-128x128.png" />

<!-- SEO / Social -->
<meta name="description" content="A comprehensive, scholarly-accurate Zakah calculator covering cash, metals, investments, and business assets. 100% private ‚Äî all processing happens locally in your browser." />
<meta name="robots" content="index, follow" />
<meta property="og:title"       content="Zakah Calculator ‚Äî Samin's Initiatives" />
<meta property="og:description" content="Calculate your Zakah accurately with live metal prices and multi-currency support." />
<meta property="og:type"        content="website" />

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&family=Noto+Serif+Bengali:wght@300;400;500;600;700&display=swap" />
<link rel="stylesheet" href="styles.css" />
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo-block">
      <div class="logo-icon">‚òΩ</div>
      <div class="logo-text">
        <h1 data-i18n="title">Zakah Calculator</h1>
        <p data-i18n="brand">Samin's Initiatives</p>
      </div>
    </div>
    <div class="header-controls">
      <div class="pill-toggle" id="langToggle">
        <button onclick="setLang('en')" id="btn-en" class="active">EN</button>
        <button onclick="setLang('bn')" id="btn-bn">‡¶¨‡¶æ‡¶Ç</button>
      </div>
      <select class="currency-select" id="currencySelect" onchange="setCurrency(this.value)">
        <option value="BDT">‡ß≥ BDT</option>
        <option value="USD">$ USD</option>
        <option value="SAR">Ô∑º SAR</option>
        <option value="GBP">¬£ GBP</option>
        <option value="AUD">A$ AUD</option>
        <option value="INR">‚Çπ INR</option>
      </select>
    </div>
  </div>
</header>

<main>
<div class="wrap">

  <!-- HERO -->
  <div class="hero fade-up">
    <div class="hero-badge">‚ú¶ <span data-i18n="badge">2026 Professional Zakah Calculator</span></div>
    <h2 data-i18n="hero_title">Calculate Your Zakah with Precision</h2>
    <p data-i18n="hero_desc">A comprehensive, scholarly-accurate calculator covering all asset categories including digital wallets, investments, and business assets.</p>
    <div class="security-banner">
      üîí <span data-i18n="security_note">100% Secure & Open-Source ‚Äî All data processed locally in your browser. No server. No data shared.</span>
    </div>
  </div>

  <!-- QURAN -->
  <div class="quran-banner fade-up">
    <div class="quran-arabic">ŸàŸéÿ£ŸéŸÇŸêŸäŸÖŸèŸàÿß ÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿé ŸàŸéÿ¢ÿ™ŸèŸàÿß ÿßŸÑÿ≤ŸéŸëŸÉŸéÿßÿ©Ÿé</div>
    <div class="quran-trans" data-i18n="quran_trans">"Establish prayer and give Zakah." ‚Äî Quran 2:43</div>
  </div>

  <!-- PROGRESS -->
  <div class="progress-bar fade-up">
    <div class="progress-bar-fill" id="progressFill" style="width:0%"></div>
  </div>

  <!-- SETTINGS -->
  <div class="settings-card fade-up">
    <div class="settings-card-title">‚öô <span data-i18n="calc_settings">Calculation Settings</span></div>
    <div class="settings-row">
      <div class="setting-group">
        <label data-i18n="nisab_based_on">Nisab Based On</label>
        <div class="pill-toggle" style="width:100%; justify-content:center;">
          <button onclick="setNisabType('silver')" id="btn-silver" class="active" data-i18n-btn="silver_nisab">Silver (Recommended)</button>
          <button onclick="setNisabType('gold')" id="btn-gold" data-i18n-btn="gold_nisab">Gold</button>
        </div>
      </div>
      <div class="setting-group">
        <label data-i18n="calendar_type">Calendar Type</label>
        <div class="pill-toggle" style="width:100%; justify-content:center;">
          <button onclick="setCalendar('lunar')" id="btn-lunar" class="active" data-i18n-btn="lunar">Lunar (2.5%)</button>
          <button onclick="setCalendar('solar')" id="btn-solar" data-i18n-btn="solar">Solar (2.577%)</button>
        </div>
      </div>
    </div>
    <div class="nisab-display" id="nisabDisplay">
      <div class="nisab-stat">
        <div class="nisab-stat-val" id="nisabMetalDisp">612.36g Silver</div>
        <div class="nisab-stat-label" data-i18n="nisab_weight">Nisab Weight</div>
      </div>
      <div class="nisab-stat">
        <div class="nisab-stat-val" id="nisabValueDisp">‚Äî</div>
        <div class="nisab-stat-label" data-i18n="nisab_value">Nisab Value</div>
      </div>
      <div class="nisab-stat">
        <div class="nisab-stat-val" id="zakahRateDisp">2.5%</div>
        <div class="nisab-stat-label" data-i18n="zakah_rate">Zakah Rate</div>
      </div>
    </div>
    <!-- LIVE PRICE PANEL -->
    <div style="margin-top:16px;">
      <div class="price-panel">
        <div class="price-panel-header">
          <div class="price-panel-title">
            <span class="live-dot loading" id="liveDot"></span>
            <span data-i18n="live_prices_title">Live Metal Prices</span>
          </div>
          <div class="price-meta">
            <span class="price-timestamp" id="priceTimestamp" data-i18n="fetching">Fetching‚Ä¶</span>
            <button class="btn-refresh" id="refreshBtn" onclick="fetchPrices(true)" disabled>
              <span class="spin">‚Ü∫</span> <span data-i18n="refresh">Refresh</span>
            </button>
          </div>
        </div>
        <div class="price-grid">
          <div class="price-cell">
            <div class="price-cell-label">ü•á <span data-i18n="gold_24k_label">Gold 24k</span></div>
            <div class="price-cell-usd" id="goldUsdLabel">‚Äî USD/oz</div>
            <div class="price-cell-val loading-shimmer" id="goldPriceDisplay">Loading‚Ä¶</div>
            <div class="price-cell-sub" id="goldPerGramSub">per gram</div>
          </div>
          <div class="price-cell">
            <div class="price-cell-label">ü•à <span data-i18n="silver_999_label">Silver 999</span></div>
            <div class="price-cell-usd" id="silverUsdLabel">‚Äî USD/oz</div>
            <div class="price-cell-val loading-shimmer" id="silverPriceDisplay">Loading‚Ä¶</div>
            <div class="price-cell-sub" id="silverPerGramSub">per gram</div>
          </div>
          <div class="price-cell">
            <div class="price-cell-label">üí± <span data-i18n="fx_rate_label">Exchange Rate</span></div>
            <div class="price-cell-usd" id="fxBaseLabel">USD base</div>
            <div class="price-cell-val loading-shimmer" id="fxRateDisplay">Loading‚Ä¶</div>
            <div class="price-cell-sub" id="fxRateSub">1 USD = ?</div>
          </div>
          <div class="price-cell">
            <div class="price-cell-label">üïí <span data-i18n="data_source_label">Data Source</span></div>
            <div class="price-cell-usd" id="metalSourceLabel">Trusted Provider</div>
            <div class="price-cell-val" style="font-size:13px;color:var(--text-muted);" id="fxSourceLabel">Trusted Provider</div>
            <div class="price-cell-sub" data-i18n="free_no_key">Via GitHub Actions ¬∑ Key-free browser</div>
          </div>
        </div>
      </div>

      <!-- API source attribution + FX rates strip -->
      <div class="fx-banner" id="fxBanner" style="display:none;">
        <div class="fx-rates" id="fxRatesStrip"></div>
        <div class="api-sources">
          <span class="source-badge" id="metalSourceBadge">‚õè Metal Prices</span>
          <span class="source-badge" id="fxSourceBadge">üí± Exchange Rates (GH Actions)</span>
        </div>
      </div>

      <!-- MANUAL FALLBACK ‚Äî shown only on API failure -->
      <div class="manual-fallback" id="manualFallback">
        <div class="manual-fallback-header">
          ‚ö† <span data-i18n="fallback_header">Live prices unavailable ‚Äî please enter current prices manually</span>
        </div>
        <p class="field-note" style="margin-bottom:10px;" data-i18n="fallback_note">
          You can look up current prices from trusted financial sources. Enter the price per gram in your selected currency below.
        </p>
        <div class="field-group">
          <div class="field">
            <label>ü•á <span data-i18n="gold_price_label">Gold Price / gram (24k)</span></label>
            <div class="input-wrap">
              <span class="input-prefix" id="pfxGold">‡ß≥</span>
              <input type="number" id="goldPriceManual" value="0" min="0" step="0.01" oninput="calc()" />
            </div>
          </div>
          <div class="field">
            <label>ü•à <span data-i18n="silver_price_label">Silver Price / gram (999)</span></label>
            <div class="input-wrap">
              <span class="input-prefix" id="pfxSilver">‡ß≥</span>
              <input type="number" id="silverPriceManual" value="0" min="0" step="0.01" oninput="calc()" />
            </div>
          </div>
        </div>
      </div>

      <!-- Hidden inputs used by calc() ‚Äî set programmatically from live data -->
    </div>
  </div>

  <!-- SECTION A: CASH & LIQUID -->
  <div class="section-card open fade-up" id="sec-cash">
    <div class="section-header" onclick="toggleSection('sec-cash')">
      <div class="section-header-left">
        <div class="section-icon icon-cash">üíµ</div>
        <div>
          <div class="section-title" data-i18n="sec_cash_title">Section A ‚Äî Cash & Liquid Assets</div>
          <div class="section-subtitle" data-i18n="sec_cash_sub">Physical cash, bank accounts, digital wallets</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="section-total" id="tot-cash">‡ß≥ 0</div>
        <div class="chevron">‚ñæ</div>
      </div>
    </div>
    <div class="section-body">
      <div class="sub-heading" data-i18n="physical_cash">Physical Cash</div>
      <div class="field-group">
        <div class="field">
          <label><span data-i18n="cash_on_hand">Cash on Hand</span> <span class="tooltip-icon" data-tip="Physical cash you keep at home or in your wallet.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_cashOnHand" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="cash_foreign">Foreign Currency</span> <span class="tooltip-icon" data-tip="Foreign currency you hold, converted to your selected currency.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_cashForeign" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="bank_accounts">Bank Accounts</div>
      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="savings_account">Savings Account</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bankSavings" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="current_account">Current / Checking</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bankCurrent" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="fd_savings">FDR / Fixed Deposits</span> <span class="tooltip-icon" data-tip="Principal amount only. Exclude interest (Riba) ‚Äî donate it separately.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bankFD" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>
      <p class="field-note" data-i18n="riba_note">‚ö† Exclude any accrued interest (Riba) from bank accounts. Interest must be donated separately, not counted as Zakah.</p>

      <div class="sub-heading" data-i18n="digital_wallets">Digital Wallets</div>
      <div class="field-group triple">
        <div class="field">
          <label>bKash / Nagad</label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bkash" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Upay / Cellfin</label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_upay" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Rocket / DBBL</label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_rocket" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Pathao Pay</label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_pathaoPay" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>PayPal / Payoneer</label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_paypal" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Venmo / Apple Pay</label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_venmo" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="receivables_personal">Personal Receivables</div>
      <div class="field-group">
        <div class="field">
          <label><span data-i18n="money_lent">Money Lent to Others</span> <span class="tooltip-icon" data-tip="Money you've lent that is likely to be returned. Doubtful debts may be excluded.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_moneyLent" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="salary_due">Salary / Bonus Due</span> <span class="tooltip-icon" data-tip="Unpaid salary or bonus owed to you that will be received.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_salaryDue" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>
    </div>
  </div>

  <!-- SECTION B: PRECIOUS METALS -->
  <div class="section-card fade-up" id="sec-metals">
    <div class="section-header" onclick="toggleSection('sec-metals')">
      <div class="section-header-left">
        <div class="section-icon icon-metals">ü•á</div>
        <div>
          <div class="section-title" data-i18n="sec_metals_title">Section B ‚Äî Precious Metals & Jewelry</div>
          <div class="section-subtitle" data-i18n="sec_metals_sub">Gold, silver, bullion, jewelry</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="section-total" id="tot-metals">‡ß≥ 0</div>
        <div class="chevron">‚ñæ</div>
      </div>
    </div>
    <div class="section-body">
      <div class="info-box gold" data-i18n="jewelry_note">üìå Personal jewelry used regularly (by women) is exempt under Hanafi school. Include gold/silver not worn or kept as savings/investment.</div>

      <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;">
        <div class="sub-heading" style="margin:0;" data-i18n="gold_heading">Gold</div>
        <!-- BHORI TOGGLE ‚Äî only visible when currency = BDT -->
        <div class="pill-toggle bhori-toggle" id="goldUnitToggle" style="display:none;">
          <button onclick="setGoldUnit('gram')"  id="btn-gold-gram"  class="active">gram</button>
          <button onclick="setGoldUnit('bhori')" id="btn-gold-bhori">‡¶≠‡¶∞‡¶ø</button>
        </div>
      </div>
      <div class="info-box gold bhori-toggle" style="display:none;margin-top:8px;" id="bhoriGoldNote">
        ‡ßß ‡¶≠‡¶∞‡¶ø = ‡ßß‡ßß.‡ß¨‡ß¨‡ß©‡ßÆ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶Æ‡¶æ‡¶®) ¬∑ 1 Bhori = 11.6638 g (BD standard)
      </div>
      <div class="field-group triple" style="margin-top:10px;">
        <div class="field">
          <label>Gold 24k (<span class="gold-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_gold24k" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Gold 22k (<span class="gold-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_gold22k" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Gold 18k (<span class="gold-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_gold18k" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Gold 21k (<span class="gold-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_gold21k" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="gold_coins">Gold Coins / Bars</span> (24k, <span class="gold-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_goldCoins" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
      </div>
      <p class="field-note" data-i18n="karat_formula">Formula used: Weight √ó (Karat √∑ 24) √ó Current Gold Price per gram</p>

      <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;margin-top:18px;">
        <div class="sub-heading" style="margin:0;" data-i18n="silver_heading">Silver</div>
        <div class="pill-toggle bhori-toggle" id="silverUnitToggle" style="display:none;">
          <button onclick="setSilverUnit('gram')"  id="btn-silver-gram"  class="active">gram</button>
          <button onclick="setSilverUnit('bhori')" id="btn-silver-bhori">‡¶≠‡¶∞‡¶ø</button>
        </div>
      </div>
      <div class="field-group" style="margin-top:10px;">
        <div class="field">
          <label><span data-i18n="silver_physical">Silver</span> (<span class="silver-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_silverGrams" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="silver_coins">Silver Coins / Bullion</span> (<span class="silver-unit-label">grams</span>)</label>
          <div class="input-wrap"><input type="number" class="no-prefix" id="f_silverBullion" value="0" min="0" step="0.001" oninput="calc()" /></div>
        </div>
      </div>

      <div id="metalValDisplay" class="nisab-display" style="margin-top:12px;">
        <div class="nisab-stat"><div class="nisab-stat-val" id="goldValTotal">‡ß≥ 0</div><div class="nisab-stat-label" data-i18n="gold_value">Gold Value</div></div>
        <div class="nisab-stat"><div class="nisab-stat-val" id="silverValTotal">‡ß≥ 0</div><div class="nisab-stat-label" data-i18n="silver_value">Silver Value</div></div>
        <div class="nisab-stat"><div class="nisab-stat-val" id="metalValTotalDisp">‡ß≥ 0</div><div class="nisab-stat-label" data-i18n="total_metal_value">Total Metal Value</div></div>
      </div>
    </div>
  </div>

  <!-- SECTION C: INVESTMENTS -->
  <div class="section-card fade-up" id="sec-invest">
    <div class="section-header" onclick="toggleSection('sec-invest')">
      <div class="section-header-left">
        <div class="section-icon icon-invest">üìà</div>
        <div>
          <div class="section-title" data-i18n="sec_invest_title">Section C ‚Äî Investments & Financial Assets</div>
          <div class="section-subtitle" data-i18n="sec_invest_sub">Stocks, mutual funds, crypto, pension</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="section-total" id="tot-invest">‡ß≥ 0</div>
        <div class="chevron">‚ñæ</div>
      </div>
    </div>
    <div class="section-body">

      <div class="sub-heading" data-i18n="stocks_heading">Stocks & Shares</div>
      <label style="font-size:12px;color:var(--text-muted);margin-bottom:6px;display:block;" data-i18n="stock_method_label">Calculation Method</label>
      <div class="radio-group" id="stockMethodGroup">
        <label class="radio-btn selected" onclick="selectRadio('stockMethod','trade',this)">
          <input type="radio" name="stockMethod" value="trade" checked />
          <span class="radio-dot"><span></span></span>
          <span data-i18n="method_trade">Short-term Trading (2.5% of market value)</span>
        </label>
        <label class="radio-btn" onclick="selectRadio('stockMethod','longterm',this)">
          <input type="radio" name="stockMethod" value="longterm" />
          <span class="radio-dot"><span></span></span>
          <span data-i18n="method_longterm">Long-term Investment (25% proxy)</span>
        </label>
      </div>
      <div class="info-box" id="stockMethodInfo" data-i18n="method_trade_info">Short-term traders: Pay 2.5% on full portfolio value. Long-term investors: Pay 2.5% on 25% of portfolio (proxy for zakatable assets of the company).</div>

      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="dse_stocks">DSE Stocks (Bangladesh)</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_dseStocks" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="international_stocks">International Stocks</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_intlStocks" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="mutual_funds">Mutual Funds / ETFs</span> <span class="tooltip-icon" data-tip="For Islamic funds, 100% is Zakatable. For conventional funds, use 25% proxy on NAV.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_mutualFunds" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="crypto_heading">Cryptocurrency</div>
      <div class="info-box" data-i18n="crypto_note">Scholars differ on crypto. Most contemporary scholars consider it Zakatable at market value. Include only holdings held for over a lunar year.</div>
      <div class="field-group triple">
        <div class="field">
          <label>Bitcoin (BTC) <span data-i18n="market_val_label">Market Value</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_btc" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label>Ethereum (ETH) <span data-i18n="market_val_label">Market Value</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_eth" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="other_crypto">Other Crypto</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_otherCrypto" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="pension_heading">Provident Fund & Pension</div>
      <div class="info-box" data-i18n="pension_note">Include only the portion you can access. Many scholars say include your own contributions; employer portion upon receipt. Verify with your PF statement.</div>
      <div class="field-group">
        <div class="field">
          <label><span data-i18n="provident_fund">GPF / Provident Fund</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_gpf" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="sanchayapatra">Sanchayapatra / NSC</span> <span class="tooltip-icon" data-tip="Bangladesh National Savings Certificate. Principal amount is Zakatable.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_nsc" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="bonds">Govt Bonds / Sukuk</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bonds" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="other_invest">Other Investment Schemes</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_otherInvest" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>
    </div>
  </div>

  <!-- SECTION D: BUSINESS ASSETS -->
  <div class="section-card fade-up" id="sec-biz">
    <div class="section-header" onclick="toggleSection('sec-biz')">
      <div class="section-header-left">
        <div class="section-icon icon-biz">üè¢</div>
        <div>
          <div class="section-title" data-i18n="sec_biz_title">Section D ‚Äî Business Assets</div>
          <div class="section-subtitle" data-i18n="sec_biz_sub">Inventory, receivables, business cash</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="section-total" id="tot-biz">‡ß≥ 0</div>
        <div class="chevron">‚ñæ</div>
      </div>
    </div>
    <div class="section-body">
      <div class="info-box warning" data-i18n="biz_exclude_note">‚ùå Exclude: Land, Buildings, Machinery, Vehicles, Office Furniture & Equipment (PPE). These are NOT Zakatable.</div>

      <div class="sub-heading" data-i18n="biz_liquid_heading">Business Liquid Assets</div>
      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="biz_cash">Business Cash (in hand)</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bizCash" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="biz_bank">Business Bank Balance</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bizBank" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="petty_cash">Petty Cash / Float</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_pettyCash" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="inventory_heading">Inventory (at Sale Price)</div>
      <div class="info-box" data-i18n="inventory_note">Value inventory at current sale/retail price, NOT cost. Zakah is on the trade value, not what you paid.</div>
      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="finished_goods">Finished Goods</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_finishedGoods" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="raw_materials">Raw Materials</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_rawMaterials" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="wip">Work in Progress (WIP)</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_wip" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="trade_goods">Trade Goods / Merchandise</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_tradeGoods" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="receivables_heading">Business Receivables</div>
      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="trade_receivables">Trade Receivables</span> <span class="tooltip-icon" data-tip="Money owed to you by clients that you're confident will be paid.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_tradeRec" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="advance_paid">Advances Paid to Suppliers</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_advancePaid" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="security_deposits">Security Deposits Given</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_secDeposit" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>
    </div>
  </div>

  <!-- SECTION E: LIABILITIES -->
  <div class="section-card fade-up" id="sec-liab">
    <div class="section-header" onclick="toggleSection('sec-liab')">
      <div class="section-header-left">
        <div class="section-icon icon-liab">üìâ</div>
        <div>
          <div class="section-title" data-i18n="sec_liab_title">Section E ‚Äî Liabilities & Deductions</div>
          <div class="section-subtitle" data-i18n="sec_liab_sub">Short-term debts and payables due within 12 months</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="section-total negative" id="tot-liab">‡ß≥ 0</div>
        <div class="chevron">‚ñæ</div>
      </div>
    </div>
    <div class="section-body">
      <div class="info-box warning" data-i18n="liab_note">‚ö† Only deduct debts due within the next 12 months. For long-term loans (mortgage, car loan), deduct only the next 12 months of installments, NOT the remaining principal.</div>

      <div class="sub-heading" data-i18n="personal_debts">Personal Debts</div>
      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="personal_loans">Personal Loans Due</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_personalLoan" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="credit_card">Credit Card Balance</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_creditCard" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="mortgage_12mo">Mortgage (next 12 months)</span> <span class="tooltip-icon" data-tip="Only deduct the installment amount due in the next 12 months, not the full remaining balance.">?</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_mortgage12" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="rent_bills">Overdue Rent / Utilities</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_rentBills" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="taxes_due">Taxes Due</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_taxesDue" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>

      <div class="sub-heading" data-i18n="business_liab">Business Liabilities</div>
      <div class="field-group triple">
        <div class="field">
          <label><span data-i18n="biz_loan">Business Loans (12 months)</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_bizLoan" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="trade_payables">Trade Payables / Supplier Bills</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_tradePayables" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="salaries_payable">Salaries Payable</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_salariesPayable" value="0" min="0" oninput="calc()" /></div>
        </div>
        <div class="field">
          <label><span data-i18n="advance_received">Customer Advances Received</span></label>
          <div class="input-wrap"><span class="input-prefix curr-pfx">‡ß≥</span><input type="number" id="f_advanceReceived" value="0" min="0" oninput="calc()" /></div>
        </div>
      </div>
    </div>
  </div>

  <!-- RESULTS PANEL -->
  <div class="results-panel fade-up" id="resultsPanel">
    <div class="results-header">
      <div>
        <div class="results-title" data-i18n="your_zakah">Your Zakah Summary</div>
        <div style="font-size:12px;color:var(--text-muted);margin-top:4px;" data-i18n="hawl_note">Based on one full Hawl (1 year) completion</div>
      </div>
      <div class="results-eligible no" id="eligibleBadge" data-i18n="not_eligible">Not Eligible Yet</div>
    </div>

    <div class="results-grid">
      <div class="result-stat">
        <div class="result-stat-label" data-i18n="total_assets_label">Total Assets</div>
        <div class="result-stat-value gold" id="r_totalAssets">‡ß≥ 0</div>
        <div class="result-stat-sub" data-i18n="before_deductions">before deductions</div>
      </div>
      <div class="result-stat">
        <div class="result-stat-label" data-i18n="total_liabilities_label">Total Liabilities</div>
        <div class="result-stat-value red" id="r_totalLiab">‡ß≥ 0</div>
        <div class="result-stat-sub" data-i18n="eligible_deductions">eligible deductions</div>
      </div>
      <div class="result-stat">
        <div class="result-stat-label" data-i18n="net_wealth_label">Net Zakatable Wealth</div>
        <div class="result-stat-value" id="r_netWealth">‡ß≥ 0</div>
        <div class="result-stat-sub" data-i18n="after_deductions">assets ‚àí liabilities</div>
      </div>
      <div class="result-stat">
        <div class="result-stat-label" data-i18n="nisab_threshold_label">Nisab Threshold</div>
        <div class="result-stat-value" id="r_nisabVal">‡ß≥ ‚Äî</div>
        <div class="result-stat-sub" id="r_nisabSub">Silver 612.36g</div>
      </div>
      <div class="result-stat">
        <div class="result-stat-label" data-i18n="zakah_rate_label">Rate Applied</div>
        <div class="result-stat-value" id="r_rateApplied">2.5%</div>
        <div class="result-stat-sub" id="r_rateSub">Lunar (Hijri)</div>
      </div>
      <div class="result-stat">
        <div class="result-stat-label" data-i18n="zakah_due_label">Zakah Due</div>
        <div class="result-stat-value green big" id="r_zakahDue">‡ß≥ 0</div>
        <div class="result-stat-sub" data-i18n="payable_label">Payable this year</div>
      </div>
    </div>

    <!-- NISAB BAR -->
    <div class="nisab-bar-wrap">
      <div class="nisab-bar-label">
        <span data-i18n="wealth_vs_nisab">Your Wealth vs. Nisab</span>
        <span id="nisabPct">0%</span>
      </div>
      <div class="nisab-bar-track">
        <div class="nisab-bar-fill" id="nisabBarFill" style="width:0%"></div>
      </div>
    </div>

    <!-- BREAKDOWN -->
    <div class="breakdown">
      <div class="breakdown-title" data-i18n="detailed_breakdown">Detailed Breakdown</div>
      <div class="breakdown-row">
        <span class="breakdown-row-label" data-i18n="cash_liquid_bd">Cash & Liquid Assets</span>
        <span class="breakdown-row-val pos" id="bd_cash">‡ß≥ 0</span>
      </div>
      <div class="breakdown-row">
        <span class="breakdown-row-label" data-i18n="precious_metals_bd">Precious Metals</span>
        <span class="breakdown-row-val pos" id="bd_metals">‡ß≥ 0</span>
      </div>
      <div class="breakdown-row">
        <span class="breakdown-row-label" data-i18n="investments_bd">Investments</span>
        <span class="breakdown-row-val pos" id="bd_invest">‡ß≥ 0</span>
      </div>
      <div class="breakdown-row">
        <span class="breakdown-row-label" data-i18n="business_bd">Business Assets</span>
        <span class="breakdown-row-val pos" id="bd_biz">‡ß≥ 0</span>
      </div>
      <div class="breakdown-row divider">
        <span class="breakdown-row-label" data-i18n="liabilities_bd">(-) Liabilities</span>
        <span class="breakdown-row-val neg" id="bd_liab">‡ß≥ 0</span>
      </div>
      <div class="breakdown-row divider">
        <span class="breakdown-row-label" data-i18n="net_zakatable">Net Zakatable Wealth</span>
        <span class="breakdown-row-val total" id="bd_net">‡ß≥ 0</span>
      </div>
      <div class="breakdown-row divider">
        <span class="breakdown-row-label" data-i18n="zakah_payable">Zakah Payable</span>
        <span class="breakdown-row-val zakah" id="bd_zakah">‡ß≥ 0</span>
      </div>
    </div>
  </div>

  <div style="display:flex;justify-content:center;margin-bottom:40px;" class="fade-up">
    <button class="btn-reset" onclick="resetAll()">‚Ü∫ <span data-i18n="reset_btn">Reset All Fields</span></button>
  </div>

</div>
</main>

<!-- PWA INSTALL BANNER -->
<div class="pwa-banner" id="pwaBanner" aria-live="polite" role="complementary" hidden>
  <div class="pwa-banner-inner">
    <div class="pwa-banner-left">
      <div class="pwa-banner-icon">‚òΩ</div>
      <div class="pwa-banner-text">
        <strong data-i18n="pwa_title">Install Zakah Calculator</strong>
        <span data-i18n="pwa_desc">Add to your home screen for offline access</span>
      </div>
    </div>
    <div class="pwa-banner-actions">
      <button class="pwa-btn-install" id="pwaBtnInstall" data-i18n="pwa_install">Install App</button>
      <button class="pwa-btn-dismiss" id="pwaBtnDismiss" aria-label="Dismiss">‚úï</button>
    </div>
  </div>
  <!-- iOS-specific instruction (shown only on iOS Safari) -->
  <div class="pwa-ios-hint" id="pwaIosHint" hidden>
    <span data-i18n="pwa_ios_hint">Tap <strong>Share ‚¨Ü</strong> then <strong>"Add to Home Screen"</strong></span>
  </div>
</div>

<footer>
  <div class="footer-inner">
    <div class="footer-logo">‚òΩ Samin's Initiatives</div>
    <div class="footer-tagline" data-i18n="footer_tagline">Building tools for the Ummah with transparency and trust</div>
    <div class="footer-copy">
      ¬© <span id="footerYear"></span> <span>Samin's Initiatives</span> ¬∑ <span data-i18n="designed_by">Designed by</span> <span>Samin Yasar</span>
    </div>
    <div class="footer-links">
      <a href="#" data-i18n="privacy">Privacy Policy</a>
      <a href="#" data-i18n="open_source">Open Source</a>
      <a href="#" data-i18n="contact">Contact</a>
    </div>
    <div style="margin-top:12px;">
      <span class="badge-small">üîí <span data-i18n="local_processing">100% Local Processing</span></span>
      &nbsp;
      <span class="badge-small">üåê <span data-i18n="no_server">No Server Dependency</span></span>
      &nbsp;
      <span class="badge-small">‚ú¶ <span data-i18n="open_src_badge">Open Source</span></span>
    </div>
  </div>
</footer>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LANGUAGE MODULES (JSON-style objects)
   Add more languages by adding new entries
   and calling setLang('code')
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const LANGS = {
  en: {
    title: "Zakah Calculator",
    brand: "Samin's Initiatives",
    badge: "2026 Professional Zakah Calculator",
    hero_title: "Calculate Your Zakah with Precision",
    hero_desc: "A comprehensive, scholarly-accurate calculator covering all asset categories including digital wallets, investments, and business assets.",
    security_note: "100% Secure & Open-Source ‚Äî All data processed locally in your browser. No server. No data shared with anyone.",
    quran_trans: '"Establish prayer and give Zakah." ‚Äî Quran 2:43',
    calc_settings: "Calculation Settings",
    nisab_based_on: "Nisab Based On",
    silver_nisab: "Silver (Recommended)",
    gold_nisab: "Gold",
    calendar_type: "Calendar Type",
    lunar: "Lunar (2.5%)",
    solar: "Solar (2.577%)",
    nisab_weight: "Nisab Weight",
    nisab_value: "Nisab Value",
    zakah_rate: "Zakah Rate",
    live_prices_title: "Live Metal Prices",
    fetching: "Fetching‚Ä¶",
    refresh: "Refresh",
    gold_24k_label: "Gold 24k",
    silver_999_label: "Silver 999",
    fx_rate_label: "Exchange Rate",
    data_source_label: "Data Source",
    free_no_key: "Free ¬∑ No API key",
    fallback_header: "Live prices unavailable ‚Äî please enter current prices manually",
    fallback_note: "You can look up current prices from trusted financial sources. Enter the price per gram in your selected currency below.",
    gold_price_label: "Gold Price / gram (24k)",
    silver_price_label: "Silver Price / gram (999)",
    price_updated: "Updated",
    price_error: "Fetch failed ‚Äî using manual input",
    sec_cash_title: "Section A ‚Äî Cash & Liquid Assets",
    sec_cash_sub: "Physical cash, bank accounts, digital wallets",
    physical_cash: "Physical Cash",
    cash_on_hand: "Cash on Hand",
    cash_foreign: "Foreign Currency",
    bank_accounts: "Bank Accounts",
    savings_account: "Savings Account",
    current_account: "Current / Checking",
    fd_savings: "FDR / Fixed Deposits",
    riba_note: "‚ö† Exclude any accrued interest (Riba) from bank accounts. Interest must be donated separately, not counted as Zakah.",
    digital_wallets: "Digital Wallets",
    receivables_personal: "Personal Receivables",
    money_lent: "Money Lent to Others",
    salary_due: "Salary / Bonus Due",
    sec_metals_title: "Section B ‚Äî Precious Metals & Jewelry",
    sec_metals_sub: "Gold, silver, bullion, jewelry",
    jewelry_note: "üìå Personal jewelry used regularly (by women) is exempt under Hanafi school. Include gold/silver not worn or kept as savings/investment.",
    gold_heading: "Gold",
    gold_24k: "Gold 24k (grams)",
    gold_22k: "Gold 22k (grams)",
    gold_18k: "Gold 18k (grams)",
    gold_21k: "Gold 21k (grams)",
    gold_coins: "Gold Coins / Bars (24k equiv g)",
    karat_formula: "Formula: Weight √ó (Karat √∑ 24) √ó Current Gold Price per gram",
    silver_heading: "Silver",
    silver_physical: "Silver (grams)",
    silver_coins: "Silver Coins / Bullion (grams)",
    gold_value: "Gold Value",
    silver_value: "Silver Value",
    total_metal_value: "Total Metal Value",
    sec_invest_title: "Section C ‚Äî Investments & Financial Assets",
    sec_invest_sub: "Stocks, mutual funds, crypto, pension",
    stocks_heading: "Stocks & Shares",
    stock_method_label: "Calculation Method",
    method_trade: "Short-term Trading (2.5% of market value)",
    method_longterm: "Long-term Investment (25% proxy)",
    method_trade_info: "Short-term traders: Pay 2.5% on full portfolio value. Long-term investors: Pay 2.5% on 25% of portfolio (proxy for zakatable assets of the company).",
    dse_stocks: "DSE Stocks (Bangladesh)",
    international_stocks: "International Stocks",
    mutual_funds: "Mutual Funds / ETFs",
    crypto_heading: "Cryptocurrency",
    crypto_note: "Scholars differ on crypto. Most contemporary scholars consider it Zakatable at market value. Include only holdings held for over a lunar year.",
    market_val_label: "Market Value",
    other_crypto: "Other Crypto",
    pension_heading: "Provident Fund & Pension",
    pension_note: "Include only the portion you can access. Many scholars say include your own contributions; employer portion upon receipt.",
    provident_fund: "GPF / Provident Fund",
    sanchayapatra: "Sanchayapatra / NSC",
    bonds: "Govt Bonds / Sukuk",
    other_invest: "Other Investment Schemes",
    sec_biz_title: "Section D ‚Äî Business Assets",
    sec_biz_sub: "Inventory, receivables, business cash",
    biz_exclude_note: "‚ùå Exclude: Land, Buildings, Machinery, Vehicles, Office Furniture & Equipment (PPE). These are NOT Zakatable.",
    biz_liquid_heading: "Business Liquid Assets",
    biz_cash: "Business Cash (in hand)",
    biz_bank: "Business Bank Balance",
    petty_cash: "Petty Cash / Float",
    inventory_heading: "Inventory (at Sale Price)",
    inventory_note: "Value inventory at current sale/retail price, NOT cost. Zakah is on the trade value, not what you paid.",
    finished_goods: "Finished Goods",
    raw_materials: "Raw Materials",
    wip: "Work in Progress (WIP)",
    trade_goods: "Trade Goods / Merchandise",
    receivables_heading: "Business Receivables",
    trade_receivables: "Trade Receivables",
    advance_paid: "Advances Paid to Suppliers",
    security_deposits: "Security Deposits Given",
    sec_liab_title: "Section E ‚Äî Liabilities & Deductions",
    sec_liab_sub: "Short-term debts and payables due within 12 months",
    liab_note: "‚ö† Only deduct debts due within the next 12 months. For long-term loans (mortgage, car loan), deduct only the next 12 months of installments, NOT the remaining principal.",
    personal_debts: "Personal Debts",
    personal_loans: "Personal Loans Due",
    credit_card: "Credit Card Balance",
    mortgage_12mo: "Mortgage (next 12 months)",
    rent_bills: "Overdue Rent / Utilities",
    taxes_due: "Taxes Due",
    business_liab: "Business Liabilities",
    biz_loan: "Business Loans (12 months)",
    trade_payables: "Trade Payables / Supplier Bills",
    salaries_payable: "Salaries Payable",
    advance_received: "Customer Advances Received",
    your_zakah: "Your Zakah Summary",
    hawl_note: "Based on one full Hawl (1 year) completion",
    not_eligible: "Not Eligible Yet",
    eligible: "Zakah Obligatory ‚úì",
    total_assets_label: "Total Assets",
    before_deductions: "before deductions",
    total_liabilities_label: "Total Liabilities",
    eligible_deductions: "eligible deductions",
    net_wealth_label: "Net Zakatable Wealth",
    after_deductions: "assets ‚àí liabilities",
    nisab_threshold_label: "Nisab Threshold",
    zakah_rate_label: "Rate Applied",
    zakah_due_label: "Zakah Due",
    payable_label: "Payable this year",
    wealth_vs_nisab: "Your Wealth vs. Nisab",
    detailed_breakdown: "Detailed Breakdown",
    cash_liquid_bd: "Cash & Liquid Assets",
    precious_metals_bd: "Precious Metals",
    investments_bd: "Investments",
    business_bd: "Business Assets",
    liabilities_bd: "(-) Liabilities",
    net_zakatable: "Net Zakatable Wealth",
    zakah_payable: "Zakah Payable",
    reset_btn: "Reset All Fields",
    footer_tagline: "Building tools for the Ummah with transparency and trust",
    designed_by: "Designed by",
    privacy: "Privacy Policy",
    open_source: "Open Source",
    contact: "Contact",
    local_processing: "100% Local Processing",
    no_server: "No Server Dependency",
    open_src_badge: "Open Source",
    pwa_title: "Install Zakah Calculator",
    pwa_desc: "Add to your home screen for offline access",
    pwa_install: "Install App",
    pwa_ios_hint: "Tap Share ‚¨Ü then \"Add to Home Screen\"",
  },
  bn: {
    title: "‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞",
    brand: "‡¶∏‡¶æ‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶â‡¶¶‡ßç‡¶Ø‡ßã‡¶ó",
    badge: "‡ß®‡ß¶‡ß®‡ß¨ ‡¶™‡ßá‡¶∂‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞",
    hero_title: "‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡ßÅ‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®",
    hero_desc: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶æ‡¶ô‡ßç‡¶ó, ‡¶¨‡¶ø‡¶¶‡ßç‡¶¨‡¶æ‡¶®-‡¶∏‡¶Æ‡ßç‡¶Æ‡¶§ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞ ‚Äî ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü, ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶‡¶∏‡¶π ‡¶∏‡¶¨ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶≠‡ßÅ‡¶ï‡ßç‡¶§‡•§",
    security_note: "‡ßß‡ß¶‡ß¶% ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶ì ‡¶ì‡¶™‡ßá‡¶®-‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‚Äî ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡•§ ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶®‡ßá‡¶á‡•§ ‡¶ï‡¶æ‡¶∞‡ßã ‡¶∏‡¶æ‡¶•‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º ‡¶®‡¶æ‡•§",
    quran_trans: '"‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú ‡¶ï‡¶æ‡¶Ø‡¶º‡ßá‡¶Æ ‡¶ï‡¶∞‡ßã ‡¶è‡¶¨‡¶Ç ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§ ‡¶Ü‡¶¶‡¶æ‡¶Ø‡¶º ‡¶ï‡¶∞‡ßã‡•§" ‚Äî ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶¨‡¶æ‡¶ï‡¶æ‡¶∞‡¶æ‡¶π: ‡ß™‡ß©',
    calc_settings: "‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏",
    nisab_based_on: "‡¶®‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø",
    silver_nisab: "‡¶∞‡ßÇ‡¶™‡¶æ (‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§)",
    gold_nisab: "‡¶∏‡ßã‡¶®‡¶æ",
    calendar_type: "‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ß‡¶∞‡¶®",
    lunar: "‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡ßç‡¶∞ (‡ß®.‡ß´%)",
    solar: "‡¶∏‡ßå‡¶∞ (‡ß®.‡ß´‡ß≠‡ß≠%)",
    nisab_weight: "‡¶®‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£",
    nisab_value: "‡¶®‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø",
    zakah_rate: "‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡ßá‡¶∞ ‡¶π‡¶æ‡¶∞",
    live_prices_title: "‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ß‡¶æ‡¶§‡ßÅ‡¶∞ ‡¶¶‡¶æ‡¶Æ",
    fetching: "‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá‚Ä¶",
    refresh: "‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶®‡ßÅ‡¶®",
    gold_24k_label: "‡¶∏‡ßã‡¶®‡¶æ ‡ß®‡ß™‡¶ï",
    silver_999_label: "‡¶∞‡ßÇ‡¶™‡¶æ ‡ßØ‡ßØ‡ßØ",
    fx_rate_label: "‡¶¨‡¶ø‡¶®‡¶ø‡¶Æ‡¶Ø‡¶º ‡¶π‡¶æ‡¶∞",
    data_source_label: "‡¶°‡ßá‡¶ü‡¶æ ‡¶â‡ßé‡¶∏",
    free_no_key: "‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ¬∑ ‡¶ï‡ßã‡¶®‡ßã API ‡¶ï‡ßÄ ‡¶®‡ßá‡¶á",
    fallback_header: "‡¶≤‡¶æ‡¶á‡¶≠ ‡¶¶‡¶æ‡¶Æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ ‚Äî ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø ‡¶¶‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®",
    fallback_note: "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï ‡¶â‡ßé‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¶‡¶æ‡¶Æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§ ‡¶®‡¶ø‡¶ö‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶¶‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§",
    gold_price_label: "‡¶∏‡ßã‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶Æ / ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ (‡ß®‡ß™‡¶ï)",
    silver_price_label: "‡¶∞‡ßÇ‡¶™‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶Æ / ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ (‡ßØ‡ßØ‡ßØ)",
    price_updated: "‡¶Ü‡¶™‡¶°‡ßá‡¶ü",
    price_error: "‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‚Äî ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®",
    sec_cash_title: "‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶ï ‚Äî ‡¶®‡¶ó‡¶¶ ‡¶ì ‡¶§‡¶∞‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    sec_cash_sub: "‡¶®‡¶ó‡¶¶ ‡¶Ö‡¶∞‡ßç‡¶•, ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨, ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü",
    physical_cash: "‡¶®‡¶ó‡¶¶ ‡¶Ö‡¶∞‡ßç‡¶•",
    cash_on_hand: "‡¶π‡¶æ‡¶§‡ßá ‡¶®‡¶ó‡¶¶",
    cash_foreign: "‡¶¨‡¶ø‡¶¶‡ßá‡¶∂‡¶ø ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ",
    bank_accounts: "‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨",
    savings_account: "‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º‡ßÄ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨",
    current_account: "‡¶ö‡¶≤‡¶§‡¶ø ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨",
    fd_savings: "‡¶è‡¶´‡¶°‡¶ø‡¶Ü‡¶∞ / ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶Ü‡¶Æ‡¶æ‡¶®‡¶§",
    riba_note: "‚ö† ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶∏‡ßÅ‡¶¶ (‡¶∞‡¶ø‡¶¨‡¶æ) ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®‡•§ ‡¶∏‡ßÅ‡¶¶ ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá, ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡ßá ‡¶ó‡¶£‡¶®‡¶æ ‡¶π‡¶¨‡ßá ‡¶®‡¶æ‡•§",
    digital_wallets: "‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶ü",
    receivables_personal: "‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶™‡¶æ‡¶ì‡¶®‡¶æ",
    money_lent: "‡¶ß‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ö‡¶∞‡ßç‡¶•",
    salary_due: "‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶¨‡ßá‡¶§‡¶® / ‡¶¨‡ßã‡¶®‡¶æ‡¶∏",
    sec_metals_title: "‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶ñ ‚Äî ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶® ‡¶ß‡¶æ‡¶§‡ßÅ ‡¶ì ‡¶ó‡¶π‡¶®‡¶æ",
    sec_metals_sub: "‡¶∏‡ßã‡¶®‡¶æ, ‡¶∞‡ßÇ‡¶™‡¶æ, ‡¶¨‡ßÅ‡¶≤‡¶ø‡¶Ø‡¶º‡¶®, ‡¶ó‡¶π‡¶®‡¶æ",
    jewelry_note: "üìå ‡¶π‡¶æ‡¶®‡¶æ‡¶´‡¶ø ‡¶Æ‡¶æ‡¶Ø‡¶π‡¶æ‡¶¨ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶ó‡¶π‡¶®‡¶æ ‡¶Æ‡¶æ‡¶´‡•§ ‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º ‡¶¨‡¶æ ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶∏‡ßã‡¶®‡¶æ/‡¶∞‡ßÇ‡¶™‡¶æ ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶≠‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
    gold_heading: "‡¶∏‡ßã‡¶®‡¶æ",
    gold_24k: "‡¶∏‡ßã‡¶®‡¶æ ‡ß®‡ß™ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü (‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    gold_22k: "‡¶∏‡ßã‡¶®‡¶æ ‡ß®‡ß® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü (‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    gold_18k: "‡¶∏‡ßã‡¶®‡¶æ ‡ßß‡ßÆ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü (‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    gold_21k: "‡¶∏‡ßã‡¶®‡¶æ ‡ß®‡ßß ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü (‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    gold_coins: "‡¶∏‡ßã‡¶®‡¶æ‡¶∞ ‡¶ï‡¶Ø‡¶º‡ßá‡¶® / ‡¶¨‡¶æ‡¶∞ (‡ß®‡ß™‡¶ï ‡¶∏‡¶Æ‡¶Æ‡¶æ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    karat_formula: "‡¶∏‡ßÇ‡¶§‡ßç‡¶∞: ‡¶ì‡¶ú‡¶® √ó (‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü √∑ ‡ß®‡ß™) √ó ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡ßã‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ",
    silver_heading: "‡¶∞‡ßÇ‡¶™‡¶æ",
    silver_physical: "‡¶∞‡ßÇ‡¶™‡¶æ (‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    silver_coins: "‡¶∞‡ßÇ‡¶™‡¶æ‡¶∞ ‡¶ï‡¶Ø‡¶º‡ßá‡¶® / ‡¶¨‡ßÅ‡¶≤‡¶ø‡¶Ø‡¶º‡¶® (‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ)",
    gold_value: "‡¶∏‡ßã‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø",
    silver_value: "‡¶∞‡ßÇ‡¶™‡¶æ‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø",
    total_metal_value: "‡¶Æ‡ßã‡¶ü ‡¶ß‡¶æ‡¶§‡ßÅ‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø",
    sec_invest_title: "‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶ó ‚Äî ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶ì ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    sec_invest_sub: "‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞, ‡¶Æ‡¶ø‡¶â‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶´‡¶æ‡¶®‡ßç‡¶°, ‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã, ‡¶™‡ßá‡¶®‡¶∂‡¶®",
    stocks_heading: "‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ì ‡¶∏‡ßç‡¶ü‡¶ï",
    stock_method_label: "‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø",
    method_trade: "‡¶∏‡ßç‡¶¨‡¶≤‡ßç‡¶™‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶ü‡ßç‡¶∞‡ßá‡¶° (‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá‡¶∞ ‡ß®.‡ß´%)",
    method_longterm: "‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó (‡ß®‡ß´% ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∏‡¶ø)",
    method_trade_info: "‡¶∏‡ßç‡¶¨‡¶≤‡ßç‡¶™‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ: ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶´‡¶≤‡¶ø‡¶ì ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá‡¶∞ ‡ß®.‡ß´%‡•§ ‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ: ‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶´‡¶≤‡¶ø‡¶ì‡¶∞ ‡ß®‡ß´% ‡¶è‡¶∞ ‡¶â‡¶™‡¶∞ ‡ß®.‡ß´% (‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø‡¶∞ ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∏‡¶ø)‡•§",
    dse_stocks: "‡¶°‡¶ø‡¶è‡¶∏‡¶á ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂)",
    international_stocks: "‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶ú‡¶æ‡¶§‡¶ø‡¶ï ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞",
    mutual_funds: "‡¶Æ‡¶ø‡¶â‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶´‡¶æ‡¶®‡ßç‡¶° / ‡¶á‡¶ü‡¶ø‡¶è‡¶´",
    crypto_heading: "‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø",
    crypto_note: "‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶≤‡ßá‡¶Æ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶§‡¶≠‡ßá‡¶¶ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶Ö‡¶ß‡¶ø‡¶ï‡¶æ‡¶Ç‡¶∂ ‡¶∏‡¶Æ‡¶∏‡¶æ‡¶Æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶Ü‡¶≤‡ßá‡¶Æ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶Æ‡¶®‡ßá ‡¶ï‡¶∞‡ßá‡¶®‡•§ ‡¶è‡¶ï ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡ßç‡¶∞ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßã‡¶≤‡ßç‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶≠‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
    market_val_label: "‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø",
    other_crypto: "‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã",
    pension_heading: "‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶§‡¶π‡¶¨‡¶ø‡¶≤ ‡¶ì ‡¶™‡ßá‡¶®‡¶∂‡¶®",
    pension_note: "‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ø‡ßá ‡¶Ö‡¶Ç‡¶∂ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶® ‡¶§‡¶æ ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶≠‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶¨‡ßá‡¶∂‡¶ø‡¶∞‡¶≠‡¶æ‡¶ó ‡¶Ü‡¶≤‡ßá‡¶Æ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶Ö‡¶¨‡¶¶‡¶æ‡¶® ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶≠‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡¶≤‡ßá‡¶®‡•§",
    provident_fund: "‡¶ú‡¶ø‡¶™‡¶ø‡¶è‡¶´ / ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶§‡¶π‡¶¨‡¶ø‡¶≤",
    sanchayapatra: "‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º‡¶™‡¶§‡ßç‡¶∞ / ‡¶è‡¶®‡¶è‡¶∏‡¶∏‡¶ø",
    bonds: "‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶¨‡¶®‡ßç‡¶° / ‡¶∏‡ßÅ‡¶ï‡ßÅ‡¶ï",
    other_invest: "‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ",
    sec_biz_title: "‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶ò ‚Äî ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    sec_biz_sub: "‡¶Æ‡¶ú‡ßÅ‡¶¶ ‡¶™‡¶£‡ßç‡¶Ø, ‡¶™‡¶æ‡¶ì‡¶®‡¶æ, ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶®‡¶ó‡¶¶",
    biz_exclude_note: "‚ùå ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®: ‡¶ú‡¶Æ‡¶ø, ‡¶≠‡¶¨‡¶®, ‡¶Ø‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶™‡¶æ‡¶§‡¶ø, ‡¶Ø‡¶æ‡¶®‡¶¨‡¶æ‡¶π‡¶®, ‡¶Ü‡¶∏‡¶¨‡¶æ‡¶¨‡¶™‡¶§‡ßç‡¶∞ ‡¶ì ‡¶∏‡¶∞‡¶û‡ßç‡¶ú‡¶æ‡¶Æ (‡¶™‡¶ø‡¶™‡¶ø‡¶á)‡•§ ‡¶è‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶®‡¶Ø‡¶º‡•§",
    biz_liquid_heading: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶§‡¶∞‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    biz_cash: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶π‡¶æ‡¶§‡ßá ‡¶®‡¶ó‡¶¶",
    biz_bank: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏",
    petty_cash: "‡¶ï‡ßç‡¶∑‡ßÅ‡¶¶‡ßç‡¶∞ ‡¶®‡¶ó‡¶¶",
    inventory_heading: "‡¶Æ‡¶ú‡ßÅ‡¶¶ ‡¶™‡¶£‡ßç‡¶Ø (‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá)",
    inventory_note: "‡¶Æ‡¶ú‡ßÅ‡¶¶ ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º/‡¶ñ‡ßÅ‡¶ö‡¶∞‡¶æ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶ß‡¶∞‡ßÅ‡¶®, ‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶®‡¶Ø‡¶º‡•§",
    finished_goods: "‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶™‡¶£‡ßç‡¶Ø",
    raw_materials: "‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ‡¶Æ‡¶æ‡¶≤",
    wip: "‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ß‡ßÄ‡¶® ‡¶ï‡¶æ‡¶ú (WIP)",
    trade_goods: "‡¶¨‡¶æ‡¶£‡¶ø‡¶ú‡ßç‡¶Ø‡¶ø‡¶ï ‡¶™‡¶£‡ßç‡¶Ø",
    receivables_heading: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶™‡¶æ‡¶ì‡¶®‡¶æ",
    trade_receivables: "‡¶¨‡¶æ‡¶£‡¶ø‡¶ú‡ßç‡¶Ø‡¶ø‡¶ï ‡¶™‡¶æ‡¶ì‡¶®‡¶æ",
    advance_paid: "‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ø‡¶Æ",
    security_deposits: "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶®‡¶§ ‡¶Ü‡¶Æ‡¶æ‡¶®‡¶§",
    sec_liab_title: "‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶ô ‚Äî ‡¶¶‡¶æ‡¶Ø‡¶º ‡¶ì ‡¶ï‡¶∞‡ßç‡¶§‡¶®",
    sec_liab_sub: "‡ßß‡ß® ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶∏‡ßç‡¶¨‡¶≤‡ßç‡¶™‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶ã‡¶£",
    liab_note: "‚ö† ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡ßß‡ß® ‡¶Æ‡¶æ‡¶∏‡ßá ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶ã‡¶£ ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶®‡•§ ‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶ã‡¶£‡ßá‡¶∞ (‡¶¨‡¶®‡ßç‡¶ß‡¶ï, ‡¶ó‡¶æ‡¶°‡¶º‡¶ø ‡¶ã‡¶£) ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡ßß‡ß® ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶ï‡¶ø‡¶∏‡ßç‡¶§‡¶ø ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶®, ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ü‡¶∏‡¶≤ ‡¶®‡¶Ø‡¶º‡•§",
    personal_debts: "‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶ã‡¶£",
    personal_loans: "‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶ã‡¶£ (‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ)",
    credit_card: "‡¶ï‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ü ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏",
    mortgage_12mo: "‡¶¨‡¶®‡ßç‡¶ß‡¶ï (‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡ßß‡ß® ‡¶Æ‡¶æ‡¶∏)",
    rent_bills: "‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶≠‡¶æ‡¶°‡¶º‡¶æ / ‡¶á‡¶â‡¶ü‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø",
    taxes_due: "‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞",
    business_liab: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶¶‡¶æ‡¶Ø‡¶º",
    biz_loan: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶ã‡¶£ (‡ßß‡ß® ‡¶Æ‡¶æ‡¶∏)",
    trade_payables: "‡¶¨‡¶æ‡¶£‡¶ø‡¶ú‡ßç‡¶Ø‡¶ø‡¶ï ‡¶¶‡¶æ‡¶Ø‡¶º / ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶¨‡¶ø‡¶≤",
    salaries_payable: "‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶¨‡ßá‡¶§‡¶®",
    advance_received: "‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ø‡¶Æ ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§‡¶ø",
    your_zakah: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™",
    hawl_note: "‡¶è‡¶ï ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶π‡¶æ‡¶ì‡¶≤ (‡ßß ‡¶¨‡¶õ‡¶∞) ‡¶∂‡ßá‡¶∑‡ßá ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø",
    not_eligible: "‡¶è‡¶ñ‡¶®‡ßã ‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶®‡¶Ø‡¶º",
    eligible: "‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§ ‡¶´‡¶∞‡¶Ø ‚úì",
    total_assets_label: "‡¶Æ‡ßã‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    before_deductions: "‡¶ï‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá",
    total_liabilities_label: "‡¶Æ‡ßã‡¶ü ‡¶¶‡¶æ‡¶Ø‡¶º",
    eligible_deductions: "‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶ï‡¶∞‡ßç‡¶§‡¶®",
    net_wealth_label: "‡¶®‡¶ø‡¶ü ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    after_deductions: "‡¶∏‡¶Æ‡ßç‡¶™‡¶¶ ‚àí ‡¶¶‡¶æ‡¶Ø‡¶º",
    nisab_threshold_label: "‡¶®‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶∏‡ßÄ‡¶Æ‡¶æ",
    zakah_rate_label: "‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø ‡¶π‡¶æ‡¶∞",
    zakah_due_label: "‡¶™‡ßç‡¶∞‡¶¶‡ßá‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§",
    payable_label: "‡¶è ‡¶¨‡¶õ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø",
    wealth_vs_nisab: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶ ‡¶¨‡¶®‡¶æ‡¶Æ ‡¶®‡¶ø‡¶∏‡¶æ‡¶¨",
    detailed_breakdown: "‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨",
    cash_liquid_bd: "‡¶®‡¶ó‡¶¶ ‡¶ì ‡¶§‡¶∞‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    precious_metals_bd: "‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶® ‡¶ß‡¶æ‡¶§‡ßÅ",
    investments_bd: "‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó",
    business_bd: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    liabilities_bd: "(-) ‡¶¶‡¶æ‡¶Ø‡¶º",
    net_zakatable: "‡¶®‡¶ø‡¶ü ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶",
    zakah_payable: "‡¶™‡ßç‡¶∞‡¶¶‡ßá‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§",
    reset_btn: "‡¶∏‡¶¨ ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®",
    footer_tagline: "‡¶∏‡ßç‡¶¨‡¶ö‡ßç‡¶õ‡¶§‡¶æ ‡¶ì ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶â‡¶Æ‡ßç‡¶Æ‡¶æ‡¶π‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ü‡ßÅ‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶õ‡¶ø",
    designed_by: "‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",
    privacy: "‡¶ó‡ßã‡¶™‡¶®‡ßÄ‡¶Ø‡¶º‡¶§‡¶æ ‡¶®‡ßÄ‡¶§‡¶ø",
    open_source: "‡¶ì‡¶™‡ßá‡¶® ‡¶∏‡ßã‡¶∞‡ßç‡¶∏",
    contact: "‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó",
    local_processing: "‡ßß‡ß¶‡ß¶% ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç",
    no_server: "‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®",
    open_src_badge: "‡¶ì‡¶™‡ßá‡¶® ‡¶∏‡ßã‡¶∞‡ßç‡¶∏",
    pwa_title: "‡¶Ø‡¶æ‡¶ï‡¶æ‡¶§ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞ ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®",
    pwa_desc: "‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶π‡ßã‡¶Æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®",
    pwa_install: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®",
    pwa_ios_hint: "Share ‚¨Ü ‡¶ö‡¶æ‡¶™‡ßÅ‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ \"Add to Home Screen\" ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®",
  }
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CONSTANTS
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const TROY_OZ_TO_GRAM = 31.1035;   // 1 troy oz = 31.1035 g
const BHORI_TO_GRAM   = 11.6638;   // 1 ‡¶≠‡¶∞‡¶ø   = 11.6638 g  (BD standard)
const CACHE_TTL_MS    = 24 * 60 * 60 * 1000; // 24 hours

const CURRENCY_SYMBOLS = { BDT:'‡ß≥', USD:'$', SAR:'Ô∑º', GBP:'¬£', AUD:'A$', INR:'‚Çπ' };

// ‚îÄ‚îÄ API endpoints ‚îÄ‚îÄ
// Both files are committed to the repo and updated daily by GitHub Actions.
// The browser NEVER calls an external API directly ‚Äî zero key exposure.
// Metal prices API key stays in GitHub Secrets only.
// Exchange rates API key stays in GitHub Secrets only.
// index.html also has the metals key injected for a direct-API fallback
// (see update-rates.yml), but primary path is always the static JSON files.
const METALS_URL  = './data/metals.json';   // updated by GH Actions daily
const RATES_URL   = './data/rates.json';    // updated by GH Actions daily


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   STATE
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let currentLang     = localStorage.getItem('zakat_lang')     || 'en';
let currentCurrency = localStorage.getItem('zakat_currency') || 'BDT';
let nisabType       = 'silver';   // 'silver' | 'gold'
let calendarType    = 'lunar';    // 'lunar'  | 'solar'
let stockMethod     = 'trade';    // 'trade'  | 'longterm'
let goldUnit        = 'gram';     // 'gram'   | 'bhori'  (BDT only)
let silverUnit      = 'gram';     // same

// Runtime price state
let liveGoldUsdPerOz   = 0;
let liveSilverUsdPerOz = 0;
let fxRates            = {};      // { BDT: 121.5, SAR: 3.75, ‚Ä¶ }  USD-base
let pricesLive         = false;

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CACHE HELPERS  (localStorage, 24-h TTL)
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function cacheWrite(key, data) {
  try {
    localStorage.setItem(key, JSON.stringify({ ts: Date.now(), data }));
  } catch (_) {}
}
function cacheRead(key) {
  try {
    const raw = localStorage.getItem(key);
    if (!raw) return null;
    const obj = JSON.parse(raw);
    if (Date.now() - obj.ts > CACHE_TTL_MS) return null;
    return obj.data;
  } catch (_) { return null; }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LIVE PRICE FETCHING
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   1. Check localStorage cache (24-h TTL)
   2. If stale/absent ‚Üí fetch from trusted third-party data
   3. FX ‚Üí always read from ./data/rates.json
      (committed daily by GitHub Actions,
       so the browser never holds an API key)
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function fetchPrices(isManualRefresh = false) {
  const dot = document.getElementById('liveDot');
  const ts  = document.getElementById('priceTimestamp');
  const btn = document.getElementById('refreshBtn');
  const L   = LANGS[currentLang] || LANGS.en;

  dot.className = 'live-dot loading';
  ts.textContent = L.fetching;
  btn.disabled = true;
  btn.classList.add('spinning');
  setShimmer(true);

  // ‚îÄ‚îÄ 1. Try 24-h metals cache first (unless user hit Refresh) ‚îÄ‚îÄ
  if (!isManualRefresh) {
    const cached = cacheRead('zakat_metals');
    if (cached) {
      liveGoldUsdPerOz   = cached.gold;
      liveSilverUsdPerOz = cached.silver;
      const fxCached = cacheRead('zakat_fx');
      if (fxCached) {
        fxRates    = fxCached;
        pricesLive = true;
        onPricesReady(L, 'cache');
        return;
      }
    }
  }

  try {
    // ‚îÄ‚îÄ 2. Fetch both static data files in parallel ‚îÄ‚îÄ
    // Primary path: read rates.json + metals.json (committed by GH Actions)
    // This hits GitHub Pages CDN ‚Äî fast, no API quota consumed
    const [ratesRes, metalsRes] = await Promise.allSettled([
      fetch(RATES_URL,  { cache: 'no-cache' }),
      fetch(METALS_URL, { cache: 'no-cache' })
    ]);

    // ‚îÄ‚îÄ Parse FX rates ‚îÄ‚îÄ
    if (ratesRes.status === 'fulfilled' && ratesRes.value.ok) {
      const ratesData = await ratesRes.value.json();
      fxRates = ratesData.rates || ratesData;
    } else {
      throw new Error('rates.json unavailable');
    }

    // ‚îÄ‚îÄ Parse metals from static file ‚îÄ‚îÄ
    let metalsOk = false;
    if (metalsRes.status === 'fulfilled' && metalsRes.value.ok) {
      const metalsData = await metalsRes.value.json();
      // metals.json shape: { gold_usd_per_oz: 3150, silver_usd_per_oz: 33.5 }
      if (metalsData.gold_usd_per_oz && metalsData.silver_usd_per_oz) {
        liveGoldUsdPerOz   = metalsData.gold_usd_per_oz;
        liveSilverUsdPerOz = metalsData.silver_usd_per_oz;
        metalsOk = true;
      }
    }

    // ‚îÄ‚îÄ If metals.json missing/stale, show error ‚îÄ‚îÄ
    if (!metalsOk) {
      throw new Error('Metal prices unavailable');
    }

    cacheWrite('zakat_fx', fxRates);
    pricesLive = true;
    onPricesReady(L, 'live');

  } catch (err) {
    console.warn('Price fetch failed:', err.message);
    // Final fallback: try stale cache even if TTL expired
    const staleMetal = (() => {
      try { const r = localStorage.getItem('zakat_metals'); return r ? JSON.parse(r).data : null; } catch(_) { return null; }
    })();
    const staleFx = (() => {
      try { const r = localStorage.getItem('zakat_fx'); return r ? JSON.parse(r).data : null; } catch(_) { return null; }
    })();

    if (staleMetal && staleFx) {
      liveGoldUsdPerOz   = staleMetal.gold;
      liveSilverUsdPerOz = staleMetal.silver;
      fxRates            = staleFx;
      pricesLive         = true;
      onPricesReady(L, 'stale');
    } else {
      dot.className  = 'live-dot error';
      ts.textContent = L.price_error;
      btn.disabled   = false;
      btn.classList.remove('spinning');
      setShimmer(false);
      showFallback();
      calc();
    }
  }
}

function onPricesReady(L, source) {
  const dot = document.getElementById('liveDot');
  const ts  = document.getElementById('priceTimestamp');
  const btn = document.getElementById('refreshBtn');

  dot.className  = 'live-dot';
  const now = new Date().toLocaleTimeString([], { hour:'2-digit', minute:'2-digit' });
  const srcLabel = source === 'cache' ? ' (cached)' : source === 'stale' ? ' (stale cache)' : '';
  ts.textContent = `${L.price_updated}: ${now}${srcLabel}`;
  btn.disabled   = false;
  btn.classList.remove('spinning');
  setShimmer(false);
  hideFallback();
  updatePriceDisplay();
  updateFxBanner();
  calc();
}

function setShimmer(on) {
  ['goldPriceDisplay','silverPriceDisplay','fxRateDisplay'].forEach(id => {
    document.getElementById(id)?.classList.toggle('loading-shimmer', on);
  });
}

function showFallback() {
  document.getElementById('manualFallback').classList.add('visible');
  document.getElementById('fxBanner').style.display = 'none';
  document.getElementById('metalSourceBadge').className = 'source-badge error';
  document.getElementById('fxSourceBadge').className    = 'source-badge error';
}

function hideFallback() {
  document.getElementById('manualFallback').classList.remove('visible');
  document.getElementById('metalSourceBadge').className = 'source-badge active';
  document.getElementById('fxSourceBadge').className    = 'source-badge active';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   BHORI UNIT TOGGLE  (BDT-only feature)
   1 ‡¶≠‡¶∞‡¶ø = 11.6638 g
   Shown only when currency === 'BDT'
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function setGoldUnit(unit) {
  goldUnit = unit;
  document.getElementById('btn-gold-gram').classList.toggle('active',  unit === 'gram');
  document.getElementById('btn-gold-bhori').classList.toggle('active', unit === 'bhori');
  // Update all gold field labels & step
  const isB = unit === 'bhori';
  document.querySelectorAll('.gold-unit-label').forEach(el => {
    el.textContent = isB ? (currentLang === 'bn' ? '‡¶≠‡¶∞‡¶ø' : 'Bhori') : (currentLang === 'bn' ? '‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ' : 'grams');
  });
  calc();
}

function setSilverUnit(unit) {
  silverUnit = unit;
  document.getElementById('btn-silver-gram').classList.toggle('active',  unit === 'gram');
  document.getElementById('btn-silver-bhori').classList.toggle('active', unit === 'bhori');
  const isB = unit === 'bhori';
  document.querySelectorAll('.silver-unit-label').forEach(el => {
    el.textContent = isB ? (currentLang === 'bn' ? '‡¶≠‡¶∞‡¶ø' : 'Bhori') : (currentLang === 'bn' ? '‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ' : 'grams');
  });
  calc();
}

function syncBhoriVisibility() {
  const show = currentCurrency === 'BDT';
  document.querySelectorAll('.bhori-toggle').forEach(el => {
    el.style.display = show ? 'flex' : 'none';
  });
  // Reset units to gram when switching away from BDT
  if (!show) {
    goldUnit   = 'gram';
    silverUnit = 'gram';
    document.getElementById('btn-gold-gram')?.classList.add('active');
    document.getElementById('btn-gold-bhori')?.classList.remove('active');
    document.getElementById('btn-silver-gram')?.classList.add('active');
    document.getElementById('btn-silver-bhori')?.classList.remove('active');
    document.querySelectorAll('.gold-unit-label').forEach(el => el.textContent = 'grams');
    document.querySelectorAll('.silver-unit-label').forEach(el => el.textContent = 'grams');
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PRICE HELPERS
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function getConvertedPrices() {
  if (!pricesLive) {
    return {
      goldPerGram:   parseFloat(document.getElementById('goldPriceManual')?.value   || 0) || 0,
      silverPerGram: parseFloat(document.getElementById('silverPriceManual')?.value || 0) || 0,
    };
  }
  const rate = fxRates[currentCurrency] || 1;
  return {
    goldPerGram:   (liveGoldUsdPerOz   / TROY_OZ_TO_GRAM) * rate,
    silverPerGram: (liveSilverUsdPerOz / TROY_OZ_TO_GRAM) * rate,
  };
}

// Convert user-entered metal weight to GRAMS regardless of selected unit
function toGrams(amount, unit) {
  return unit === 'bhori' ? amount * BHORI_TO_GRAM : amount;
}

function updatePriceDisplay() {
  if (!pricesLive) return;
  const { goldPerGram, silverPerGram } = getConvertedPrices();
  const sym  = CURRENCY_SYMBOLS[currentCurrency] || currentCurrency;
  const rate = fxRates[currentCurrency] || 1;
  const isBDT = currentCurrency === 'BDT';

  document.getElementById('goldUsdLabel').textContent   = `$${liveGoldUsdPerOz.toFixed(2)} USD/oz`;
  document.getElementById('silverUsdLabel').textContent = `$${liveSilverUsdPerOz.toFixed(2)} USD/oz`;
  document.getElementById('fxBaseLabel').textContent    = `USD ‚Üí ${currentCurrency}`;
  document.getElementById('fxRateSub').textContent      = `1 USD = ${sym}${rate.toFixed(4)}`;

  // Show per-gram price; if BDT also show per-bhori in sub label
  document.getElementById('goldPriceDisplay').textContent   = `${sym} ${goldPerGram.toFixed(2)}`;
  document.getElementById('silverPriceDisplay').textContent = `${sym} ${silverPerGram.toFixed(2)}`;
  document.getElementById('fxRateDisplay').textContent      = `${rate.toFixed(4)}`;

  const goldBhoriPrice   = goldPerGram   * BHORI_TO_GRAM;
  const silverBhoriPrice = silverPerGram * BHORI_TO_GRAM;
  document.getElementById('goldPerGramSub').textContent =
    isBDT ? `per gram ¬∑ ${sym}${goldBhoriPrice.toFixed(0)} / ‡¶≠‡¶∞‡¶ø` : `per gram (${currentCurrency})`;
  document.getElementById('silverPerGramSub').textContent =
    isBDT ? `per gram ¬∑ ${sym}${silverBhoriPrice.toFixed(0)} / ‡¶≠‡¶∞‡¶ø` : `per gram (${currentCurrency})`;
}

function updateFxBanner() {
  if (!pricesLive || !Object.keys(fxRates).length) return;
  const banner = document.getElementById('fxBanner');
  const strip  = document.getElementById('fxRatesStrip');
  const supported = ['BDT','USD','SAR','GBP','AUD','INR'];
  strip.innerHTML = supported.map(cur => {
    const r = fxRates[cur];
    if (!r) return '';
    const sym = CURRENCY_SYMBOLS[cur] || cur;
    return `<div class="fx-rate-item">${cur} <span>${sym}${r.toFixed(2)}</span></div>`;
  }).join('');
  banner.style.display = 'flex';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   i18n
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function applyLang(lang) {
  const L = LANGS[lang] || LANGS.en;
  document.documentElement.lang = lang === 'bn' ? 'bn' : 'en';
  document.body.classList.toggle('lang-bn', lang === 'bn');

  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (L[key]) el.textContent = L[key];
  });
  document.querySelectorAll('[data-i18n-btn]').forEach(el => {
    const key = el.getAttribute('data-i18n-btn');
    if (L[key]) el.textContent = L[key];
  });

  // Re-sync bhori labels with current lang
  const bhoriWord  = lang === 'bn' ? '‡¶≠‡¶∞‡¶ø' : 'Bhori';
  const gramWordG  = lang === 'bn' ? '‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ' : 'grams';
  document.querySelectorAll('.gold-unit-label').forEach(el => {
    el.textContent = goldUnit === 'bhori' ? bhoriWord : gramWordG;
  });
  document.querySelectorAll('.silver-unit-label').forEach(el => {
    el.textContent = silverUnit === 'bhori' ? bhoriWord : gramWordG;
  });

  const nwRaw    = parseFloat(document.getElementById('r_netWealth')?.textContent?.replace(/[^\d.]/g,'') || '0');
  const nisabRaw = parseFloat(document.getElementById('r_nisabVal')?.textContent?.replace(/[^\d.]/g,'')  || '9999999');
  document.getElementById('eligibleBadge').textContent = nwRaw >= nisabRaw ? L.eligible : L.not_eligible;
}

function setLang(lang) {
  currentLang = lang;
  localStorage.setItem('zakat_lang', lang);
  document.getElementById('btn-en').classList.toggle('active', lang === 'en');
  document.getElementById('btn-bn').classList.toggle('active', lang === 'bn');
  applyLang(lang);
  calc();
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CURRENCY
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function setCurrency(cur) {
  currentCurrency = cur;
  localStorage.setItem('zakat_currency', cur);
  updateCurrencySymbols();
  syncBhoriVisibility();
  updatePriceDisplay();
  updateFxBanner();
  calc();
}

function updateCurrencySymbols() {
  const sym = CURRENCY_SYMBOLS[currentCurrency] || currentCurrency;
  document.querySelectorAll('.curr-pfx').forEach(el => el.textContent = sym);
  const pg = document.getElementById('pfxGold');
  const ps = document.getElementById('pfxSilver');
  if (pg) pg.textContent = sym;
  if (ps) ps.textContent = sym;
}

function fmt(n) {
  const sym = CURRENCY_SYMBOLS[currentCurrency] || currentCurrency;
  if (n === 0) return sym + ' 0';
  return sym + ' ' + n.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SETTINGS TOGGLES
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function setNisabType(type) {
  nisabType = type;
  document.getElementById('btn-silver').classList.toggle('active', type === 'silver');
  document.getElementById('btn-gold').classList.toggle('active',   type === 'gold');
  calc();
}

function setCalendar(type) {
  calendarType = type;
  document.getElementById('btn-lunar').classList.toggle('active', type === 'lunar');
  document.getElementById('btn-solar').classList.toggle('active', type === 'solar');
  calc();
}

function selectRadio(group, val, labelEl) {
  stockMethod = val;
  document.querySelectorAll(`#stockMethodGroup .radio-btn`).forEach(b => b.classList.remove('selected'));
  labelEl.classList.add('selected');
  calc();
}

function toggleSection(id) {
  document.getElementById(id).classList.toggle('open');
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MAIN CALCULATION
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function v(id) {
  return parseFloat(document.getElementById(id)?.value || 0) || 0;
}

function calc() {
  const { goldPerGram, silverPerGram } = getConvertedPrices();

  // ‚îÄ‚îÄ Section A: Cash ‚îÄ‚îÄ
  const cashTotal =
    v('f_cashOnHand') + v('f_cashForeign') +
    v('f_bankSavings') + v('f_bankCurrent') + v('f_bankFD') +
    v('f_bkash') + v('f_upay') + v('f_rocket') + v('f_pathaoPay') +
    v('f_paypal') + v('f_venmo') +
    v('f_moneyLent') + v('f_salaryDue');

  // ‚îÄ‚îÄ Section B: Metals (convert bhori ‚Üí grams before pricing) ‚îÄ‚îÄ
  const gold24kGrams  = toGrams(v('f_gold24k'),   goldUnit);
  const gold22kGrams  = toGrams(v('f_gold22k'),   goldUnit);
  const gold18kGrams  = toGrams(v('f_gold18k'),   goldUnit);
  const gold21kGrams  = toGrams(v('f_gold21k'),   goldUnit);
  const goldCoinsGrams = toGrams(v('f_goldCoins'), goldUnit);

  const gold24kEquiv =
    gold24kGrams   * (24/24) +
    gold22kGrams   * (22/24) +
    gold18kGrams   * (18/24) +
    gold21kGrams   * (21/24) +
    goldCoinsGrams * 1;

  const goldValue      = gold24kEquiv * goldPerGram;
  const silverGrams    = toGrams(v('f_silverGrams'),   silverUnit)
                       + toGrams(v('f_silverBullion'),  silverUnit);
  const silverValue    = silverGrams * silverPerGram;
  const metalTotal     = goldValue + silverValue;

  document.getElementById('goldValTotal').textContent      = fmt(goldValue);
  document.getElementById('silverValTotal').textContent    = fmt(silverValue);
  document.getElementById('metalValTotalDisp').textContent = fmt(metalTotal);

  // ‚îÄ‚îÄ Section C: Investments ‚îÄ‚îÄ
  const rawStocks  = v('f_dseStocks') + v('f_intlStocks');
  const rawMutual  = v('f_mutualFunds');
  const stocksVal  = stockMethod === 'trade' ? rawStocks      : rawStocks * 0.25;
  const mutualVal  = stockMethod === 'trade' ? rawMutual      : rawMutual * 0.25;
  const cryptoTotal   = v('f_btc') + v('f_eth') + v('f_otherCrypto');
  const pensionTotal  = v('f_gpf') + v('f_nsc') + v('f_bonds') + v('f_otherInvest');
  const investTotal   = stocksVal + mutualVal + cryptoTotal + pensionTotal;

  // ‚îÄ‚îÄ Section D: Business ‚îÄ‚îÄ
  const bizLiquid      = v('f_bizCash') + v('f_bizBank') + v('f_pettyCash');
  const bizInventory   = v('f_finishedGoods') + v('f_rawMaterials') + v('f_wip') + v('f_tradeGoods');
  const bizReceivables = v('f_tradeRec') + v('f_advancePaid') + v('f_secDeposit');
  const bizTotal       = bizLiquid + bizInventory + bizReceivables;

  // ‚îÄ‚îÄ Section E: Liabilities ‚îÄ‚îÄ
  const personalLiab =
    v('f_personalLoan') + v('f_creditCard') + v('f_mortgage12') +
    v('f_rentBills')    + v('f_taxesDue');
  const bizLiab =
    v('f_bizLoan') + v('f_tradePayables') + v('f_salariesPayable') + v('f_advanceReceived');
  const liabTotal = personalLiab + bizLiab;

  // ‚îÄ‚îÄ Totals ‚îÄ‚îÄ
  const totalAssets = cashTotal + metalTotal + investTotal + bizTotal;
  const netWealth   = Math.max(0, totalAssets - liabTotal);

  // ‚îÄ‚îÄ Nisab ‚îÄ‚îÄ
  // Nisab weights are always in GRAMS internally
  const SILVER_NISAB_G = 612.36;
  const GOLD_NISAB_G   = 87.48;
  const nisabValue = nisabType === 'silver'
    ? SILVER_NISAB_G * silverPerGram
    : GOLD_NISAB_G   * goldPerGram;

  // Display nisab weight in bhori too when BDT selected
  const isBDT = currentCurrency === 'BDT';
  const silverNisabBhori = (SILVER_NISAB_G / BHORI_TO_GRAM).toFixed(2);
  const goldNisabBhori   = (GOLD_NISAB_G   / BHORI_TO_GRAM).toFixed(2);
  const metalLabel = nisabType === 'silver'
    ? (isBDT ? `612.36g / ${silverNisabBhori} ‡¶≠‡¶∞‡¶ø Silver` : '612.36g Silver')
    : (isBDT ? `87.48g / ${goldNisabBhori} ‡¶≠‡¶∞‡¶ø Gold`      : '87.48g Gold');

  document.getElementById('nisabMetalDisp').textContent = metalLabel;
  document.getElementById('nisabValueDisp').textContent = fmt(nisabValue);

  // ‚îÄ‚îÄ Zakah Rate ‚îÄ‚îÄ
  const zakahRate     = calendarType === 'lunar' ? 0.025    : 0.02577;
  const rateLabel     = calendarType === 'lunar' ? '2.5%'   : '2.577%';
  const calendarLabel = calendarType === 'lunar' ? 'Lunar (Hijri)' : 'Solar (Gregorian)';
  document.getElementById('zakahRateDisp').textContent = rateLabel;

  // ‚îÄ‚îÄ Eligibility & Zakah ‚îÄ‚îÄ
  const isEligible = nisabValue > 0 && netWealth >= nisabValue;
  const zakahDue   = isEligible ? netWealth * zakahRate : 0;

  // ‚îÄ‚îÄ Progress ‚îÄ‚îÄ
  const fields = [
    'f_cashOnHand','f_cashForeign','f_bankSavings','f_bankCurrent','f_bankFD',
    'f_bkash','f_upay','f_rocket','f_pathaoPay','f_paypal','f_venmo',
    'f_moneyLent','f_salaryDue',
    'f_gold24k','f_gold22k','f_gold18k','f_gold21k','f_goldCoins',
    'f_silverGrams','f_silverBullion',
    'f_dseStocks','f_intlStocks','f_mutualFunds','f_btc','f_eth','f_otherCrypto',
    'f_gpf','f_nsc','f_bonds','f_otherInvest',
    'f_bizCash','f_bizBank','f_pettyCash',
    'f_finishedGoods','f_rawMaterials','f_wip','f_tradeGoods',
    'f_tradeRec','f_advancePaid','f_secDeposit',
    'f_personalLoan','f_creditCard','f_mortgage12','f_rentBills','f_taxesDue',
    'f_bizLoan','f_tradePayables','f_salariesPayable','f_advanceReceived'
  ].filter(id => v(id) > 0).length;
  document.getElementById('progressFill').style.width = Math.min(100, Math.round(fields / 48 * 100)) + '%';

  // ‚îÄ‚îÄ Section Totals ‚îÄ‚îÄ
  document.getElementById('tot-cash').textContent   = fmt(cashTotal);
  document.getElementById('tot-metals').textContent = fmt(metalTotal);
  document.getElementById('tot-invest').textContent = fmt(investTotal);
  document.getElementById('tot-biz').textContent    = fmt(bizTotal);
  document.getElementById('tot-liab').textContent   = fmt(liabTotal);

  // ‚îÄ‚îÄ Results Panel ‚îÄ‚îÄ
  document.getElementById('r_totalAssets').textContent = fmt(totalAssets);
  document.getElementById('r_totalLiab').textContent   = fmt(liabTotal);
  document.getElementById('r_netWealth').textContent   = fmt(netWealth);
  document.getElementById('r_nisabVal').textContent    = fmt(nisabValue);
  document.getElementById('r_nisabSub').textContent    = metalLabel;
  document.getElementById('r_rateApplied').textContent = rateLabel;
  document.getElementById('r_rateSub').textContent     = calendarLabel;
  document.getElementById('r_zakahDue').textContent    = fmt(zakahDue);

  const pct = nisabValue > 0 ? Math.min(100, (netWealth / nisabValue) * 100) : 0;
  document.getElementById('nisabBarFill').style.width = pct + '%';
  document.getElementById('nisabPct').textContent     = pct.toFixed(1) + '%';

  const L = LANGS[currentLang] || LANGS.en;
  const badge = document.getElementById('eligibleBadge');
  badge.textContent = isEligible ? L.eligible : L.not_eligible;
  badge.className   = 'results-eligible ' + (isEligible ? 'yes' : 'no');
  document.getElementById('r_netWealth').className = 'result-stat-value ' + (isEligible ? 'green' : '');

  // ‚îÄ‚îÄ Breakdown ‚îÄ‚îÄ
  document.getElementById('bd_cash').textContent   = fmt(cashTotal);
  document.getElementById('bd_metals').textContent = fmt(metalTotal);
  document.getElementById('bd_invest').textContent = fmt(investTotal);
  document.getElementById('bd_biz').textContent    = fmt(bizTotal);
  document.getElementById('bd_liab').textContent   = fmt(liabTotal);
  document.getElementById('bd_net').textContent    = fmt(netWealth);
  document.getElementById('bd_zakah').textContent  = fmt(zakahDue);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RESET
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function resetAll() {
  document.querySelectorAll('input[type="number"]').forEach(inp => inp.value = 0);
  calc();
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PWA ‚Äî Service Worker & Install Prompt
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

// ‚îÄ‚îÄ Service Worker registration ‚îÄ‚îÄ
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./sw.js')
      .then(reg  => console.info('[SW] Registered, scope:', reg.scope))
      .catch(err => console.warn('[SW] Registration failed:', err));
  });
}

// ‚îÄ‚îÄ Install prompt handling ‚îÄ‚îÄ
let deferredPrompt = null;
const banner       = document.getElementById('pwaBanner');
const btnInstall   = document.getElementById('pwaBtnInstall');
const btnDismiss   = document.getElementById('pwaBtnDismiss');
const iosHint      = document.getElementById('pwaIosHint');

// Detect iOS Safari (no beforeinstallprompt; needs manual share flow)
const isIos = /iphone|ipad|ipod/i.test(navigator.userAgent) &&
              /safari/i.test(navigator.userAgent) &&
              !('standalone' in navigator && navigator.standalone);

// Don't show if already installed
const isStandalone = window.matchMedia('(display-mode: standalone)').matches ||
                     navigator.standalone === true;

// Respect user dismissal (stored for 30 days)
function wasDismissed() {
  const ts = parseInt(localStorage.getItem('pwa_dismissed') || '0', 10);
  return ts && (Date.now() - ts) < 30 * 24 * 60 * 60 * 1000;
}

function showBanner() {
  if (isStandalone || wasDismissed()) return;
  banner.hidden = false;
  if (isIos) iosHint.hidden = false;
}

function hideBanner() {
  banner.hidden = true;
}

// Chrome / Edge / Samsung Browser ‚Äî native install prompt
window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  deferredPrompt = e;
  // Small delay so page settles first
  setTimeout(showBanner, 3000);
});

// Install button click
btnInstall?.addEventListener('click', async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    if (outcome === 'accepted') {
      hideBanner();
    }
    deferredPrompt = null;
  }
});

// Dismiss button
btnDismiss?.addEventListener('click', () => {
  localStorage.setItem('pwa_dismissed', String(Date.now()));
  hideBanner();
});

// iOS: show banner after delay (no native prompt available)
if (isIos && !isStandalone) {
  setTimeout(showBanner, 3500);
  btnInstall.hidden = true; // iOS can't trigger programmatic install
}

// Hide banner once installed
window.addEventListener('appinstalled', () => {
  hideBanner();
  deferredPrompt = null;
});


document.addEventListener('DOMContentLoaded', () => {
  const savedCur = localStorage.getItem('zakat_currency') || 'BDT';
  document.getElementById('currencySelect').value = savedCur;
  currentCurrency = savedCur;
  updateCurrencySymbols();
  syncBhoriVisibility();

  document.getElementById('footerYear').textContent = new Date().getFullYear();

  applyLang(currentLang);
  if (currentLang === 'bn') {
    document.getElementById('btn-en').classList.remove('active');
    document.getElementById('btn-bn').classList.add('active');
  }

  calc();
  fetchPrices();
});
</script>
</body>
</html>
